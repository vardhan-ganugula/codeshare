import{r as a,j as e,I as p,L as g}from"./index-CEF8r1q3.js";import{b as j}from"./index-Bo4u4M_n.js";import{a as f}from"./axiosProfile-ClHwDfqI.js";const w=(l,o)=>{const r=a.useRef(null);return a.useCallback((...n)=>{clearTimeout(r.current),r.current=setTimeout(()=>l(...n),o)},[l,o])},y=()=>{const[l,o]=a.useState(""),[r,n]=a.useState(!1),[i,h]=a.useState([]),[c,d]=a.useState([]),u=w(async s=>{if(!s.trim()){h([]);return}try{const{data:t}=await f.get(`/search-group?search=${s}`);h(t.groups)}catch(t){console.error("Search failed:",t)}},300),x=s=>{const t=s.target.value;o(t),u(t)},b=()=>{o(""),h([])},m=s=>{console.log(s),d(s.textCodes)};return e.jsxs("main",{className:"min-h-screen p-12 bg-gray-100",children:[e.jsx("section",{className:"flex items-start justify-center h-80",children:e.jsxs("div",{className:`flex flex-col items-center shadow-lg w-[500px] min-h-12 rounded-lg border-2 p-1 transition-height duration-300  ${r?"border-blue-500":"border-white"} bg-white`,children:[e.jsxs("div",{className:"flex items-center w-full border-b",children:[e.jsx("span",{className:`pl-3 transition-colors duration-200 ${r?"text-blue-500":"text-gray-400"}`,children:e.jsx(j,{size:25})}),e.jsx("input",{type:"text",placeholder:"Search group by name",className:"p-2 bg-transparent w-full outline-none",value:l,onFocus:()=>n(!0),onBlur:()=>n(!1),onChange:x}),l.length>0&&e.jsx("button",{className:"p-2",onClick:b,children:e.jsx(p,{size:20,className:"text-blue-500"})})]}),(r||i.length)>0&&e.jsx("div",{className:"flex flex-col p-2 w-full max-h-64 overflow-y-auto",children:i.length===0?e.jsx("div",{className:"w-full text-center border-b p-2",children:e.jsx("span",{className:"text-gray-400",children:"No group found"})}):i.map(s=>e.jsxs("div",{className:"flex gap-2 border-b p-2 hover:bg-slate-50 cursor-pointer ",onClick:()=>m(s),children:[e.jsx("span",{className:"w-20 text-blue-500",children:s.groupCode}),e.jsx("span",{className:"text-blue-500",children:s.name})]},s._id))})]})}),c&&c.length>0&&e.jsx("section",{children:e.jsxs("table",{className:"w-full border-collapse shadow-lg bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white border-b-2 border-blue-600",children:[e.jsx("th",{className:"p-3 text-left font-semibold cursor-pointer text-blue-600 bg-white hover:text-white hover:bg-blue-600 transition-colors duration-200 w-40 ",children:"TextCodes"}),e.jsx("th",{className:"p-3 text-left font-semibold cursor-pointer  text-blue-600 bg-white hover:text-white hover:bg-blue-600 transition-colors duration-200",children:"URLS"})]})}),e.jsx("tbody",{children:c&&c.length>0&&c.map((s,t)=>e.jsxs("tr",{className:`border-b hover:bg-gray-50 transition-colors duration-200 ${t%2===0?"bg-white":"bg-gray-50 w-20"}`,children:[e.jsx("td",{className:"p-4 border-r",children:s}),e.jsx("td",{className:"p-4 border-r",children:e.jsxs(g,{to:`/view?code=${s}`,children:["http://localhost:8005/api/".substring(0,22),"view?code=",s]})})]},t))})]})})]})};export{y as default};
