import{r,j as e,B as s}from"./index-CEF8r1q3.js";import{a as w}from"./axiosProfile-ClHwDfqI.js";import{f as b}from"./format-BzRktsyD.js";function v(){const[d,u]=r.useState("write you text here"),[l,i]=r.useState(""),[o,x]=r.useState(""),[n,h]=r.useState(!0),[c,m]=r.useState(Date.now()+365*24*60*60*1e3),g=a=>{const t=new Date(a.target.value).getTime();if(t<Date.now()){s.error("date must be greater than today");return}m(t)},p=a=>{const t=a.target.value;isNaN(t)||(t.length>4?i(t.substring(t.length-4,t.length)):i(t))},f=async a=>{if(a.preventDefault(),l.length!=4){s.error("code must atleat 4 digit");return}o||s.error("name is required");try{const t=await w.post("/create-text",{textInfo:d,textCode:l,shouldUpdate:n,textName:o,expiryDate:c});t.data.status=="success"?s.success(t.data.msg):s.error(t.data.msg)}catch(t){console.error(t)}};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"md:h-[87vh] h-auto w-full p-2 flex flex-col gap-2 md:flex-row",children:[e.jsx("aside",{className:"md:w-[350px] w-full p-2 md:h-full border-r-2 border-gray-100 ",children:e.jsxs("form",{className:"w-full shadow rounded",onSubmit:f,children:[e.jsx("h1",{className:"bg-indigo-500 py-2 text-center rounded text-white",children:"Create Code"}),e.jsxs("div",{className:"w-full p-3 flex gap-2",children:[e.jsx("h4",{className:"text-white rounded bg-indigo-500 w-full py-2 flex-grow-0 text-center text-md",children:"Name"}),e.jsx("input",{type:"text",className:"h-10 flex-shrink-0 w-2/3 p-2 rounded border-indigo-300 focus:border-indigo-500 outline-none border-2 text-center",value:o,name:"textname",onChange:a=>x(a.target.value),placeholder:"enter a unique name"})]}),e.jsxs("div",{className:"w-full p-3 flex gap-2",children:[e.jsx("h4",{className:"text-white rounded bg-indigo-500 w-full py-2 text-center text-md",children:"Expiry"}),e.jsx("input",{type:"date",className:"h-10 p-2 rounded border-indigo-300 focus:border-indigo-500 outline-none border-2 text-center",value:b(c,"yyyy-MM-dd"),name:"textname",onChange:g,placeholder:"enter a unique name"})]}),e.jsxs("div",{className:"w-full p-3 flex gap-2 items-center",children:[e.jsx("div",{children:"Update Message :"}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",name:"updateMessage",id:"updateMessage",hidden:!0,checked:n,onChange:a=>h(a.target.checked)}),e.jsx("label",{htmlFor:"updateMessage",className:`w-[60px] h-7 rounded-full bg-white inline-block relative p-1 cursor-pointer border-2 ${n?"border-indigo-400":"border-gray-400"} `,children:e.jsx("span",{className:`inline-block absolute w-5 h-5 rounded-full top-1/2 -translate-y-1/2 transition-all duration-300 ease-in-out ${n?"translate-x-7 bg-indigo-400":"translate-x-0 bg-gray-300"}`})})]})]}),e.jsxs("div",{className:"w-full p-3 flex gap-2",children:[e.jsx("input",{type:"text",className:"h-10 flex-shrink-0 w-2/3 p-2 rounded border-indigo-300 focus:border-indigo-500 outline-none border-2 text-center",value:l,name:"textCode",onChange:p,placeholder:"enter the 4 digit code"}),e.jsx("button",{type:"submit",className:"text-white rounded bg-indigo-500 w-full py-2 flex-grow-0",children:"create"})]})]})}),e.jsx("section",{className:"w-full flex-grow md:h-full sm:min-h-[50vh]",children:e.jsx("textarea",{className:"w-full md:h-full outline-none p-3",name:"textmessage",placeholder:d,onChange:a=>u(a.target.value)})})]})})}export{v as default};
