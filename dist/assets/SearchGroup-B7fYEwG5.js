import{r as a,j as e,I as p,L as g}from"./index-CVcYMcyB.js";import{b as j}from"./index-YF8dFqXW.js";import{a as f}from"./axiosProfile-CMomThzU.js";const w=(l,o)=>{const t=a.useRef(null);return a.useCallback((...c)=>{clearTimeout(t.current),t.current=setTimeout(()=>l(...c),o)},[l,o])},y=()=>{const[l,o]=a.useState(""),[t,c]=a.useState(!1),[i,h]=a.useState([]),[n,d]=a.useState([]),u=w(async s=>{if(!s.trim()){h([]);return}try{const{data:r}=await f.get(`/search-group?search=${s}`);h(r.groups)}catch(r){console.error("Search failed:",r)}},300),x=s=>{const r=s.target.value;o(r),u(r)},b=()=>{o(""),h([])},m=s=>{console.log(s),d(s.textCodes)};return e.jsxs("main",{className:"min-h-screen p-12 bg-gray-100",children:[e.jsx("section",{className:"flex items-start justify-center h-80",children:e.jsxs("div",{className:`flex flex-col items-center shadow-lg w-[500px] min-h-12 rounded-lg border-2 p-1 transition-height duration-300  ${t?"border-blue-500":"border-white"} bg-white`,children:[e.jsxs("div",{className:"flex items-center w-full border-b",children:[e.jsx("span",{className:`pl-3 transition-colors duration-200 ${t?"text-blue-500":"text-gray-400"}`,children:e.jsx(j,{size:25})}),e.jsx("input",{type:"text",placeholder:"Search group by name",className:"p-2 bg-transparent w-full outline-none",value:l,onFocus:()=>c(!0),onBlur:()=>c(!1),onChange:x}),l.length>0&&e.jsx("button",{className:"p-2",onClick:b,children:e.jsx(p,{size:20,className:"text-blue-500"})})]}),(t||i.length)>0&&e.jsx("div",{className:"flex flex-col p-2 w-full max-h-64 overflow-y-auto",children:i.length===0?e.jsx("div",{className:"w-full text-center border-b p-2",children:e.jsx("span",{className:"text-gray-400",children:"No group found"})}):i.map(s=>e.jsxs("div",{className:"flex gap-2 border-b p-2 hover:bg-slate-50 cursor-pointer ",onClick:()=>m(s),children:[e.jsx("span",{className:"w-20 text-blue-500",children:s.groupCode}),e.jsx("span",{className:"text-blue-500",children:s.name})]},s._id))})]})}),n&&n.length>0&&e.jsx("section",{children:e.jsxs("table",{className:"w-full border-collapse shadow-lg bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white border-b-2 border-blue-600",children:[e.jsx("th",{className:"p-3 text-left font-semibold cursor-pointer text-blue-600 bg-white hover:text-white hover:bg-blue-600 transition-colors duration-200 w-40 ",children:"TextCodes"}),e.jsx("th",{className:"p-3 text-left font-semibold cursor-pointer  text-blue-600 bg-white hover:text-white hover:bg-blue-600 transition-colors duration-200",children:"URLS"})]})}),e.jsx("tbody",{children:n&&n.length>0&&n.map((s,r)=>e.jsxs("tr",{className:`border-b hover:bg-gray-50 transition-colors duration-200 ${r%2===0?"bg-white":"bg-gray-50 w-20"}`,children:[e.jsx("td",{className:"p-4 border-r",children:s}),e.jsx("td",{className:"p-4 border-r",children:e.jsxs(g,{to:`/view?code=${s}`,children:["/api/".substring(0,1),"view?code=",s]})})]},r))})]})})]})};export{y as default};
